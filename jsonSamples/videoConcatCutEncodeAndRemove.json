{
    "type": "Workflow",
    "label": "My workflow",
    "Variables": {
        "TitleOfVideo_1": "My Title of the video_1 content",
        "TitleOfVideo_2": "My Title of the video_2 content",
        "TitleOfConcatVideo": "My Title of the concat video content",
        "TitleOfCutVideo": "My Title of the concat video content"
    },  
    "task": {
        "type": "GroupOfTasks",
        "parameters": { 
			"ExecutionType": "parallel",
			"tasks": [
				{
					"label": "${TitleOfVideo_1}",
					"type": "Add-Content",
					"parameters": { 
						"SourceURL": "http://mediaww.rsi.ch/rsi/unrestricted/2018/04/16/2560539.mp4",
						"FileFormat": "mp4",
						"ContentType": "video",
						"UserData": { "MyData": "this is my video data" },
						"Title": "${TitleOfVideo_1}" 
					}               
				},          
				{           
					"label": "${TitleOfVideo_2}",
					"type": "Add-Content",
					"parameters": { 
                            "SourceURL": "http://mediaww.rsi.ch/rsi/unrestricted/2018/04/16/2560539.mp4",
						"FileFormat": "mp4",
						"ContentType": "video",
						"UserData": { "MyData": "this is my video data" },
						"Title": "${TitleOfVideo_2}" 
					}               
				}
			]
		},
		"OnSuccess": {
			"task": {
				"type": "GroupOfTasks",
				"parameters": {
					"ExecutionType": "sequential",
					"tasks": [
						{
							"label": "My concat",
							"type": "Concat-Demuxer",
							"parameters": {
								"UserData": { "MyData": "this is my frame data" },
								"Title": "${TitleOfConcatVideo}"
							},
							"OnSuccess": {
								"task": {
									"type": "GroupOfTasks",
									"parameters": {
										"ExecutionType": "sequential",
										"tasks": [
											{
												"label": "My cut",
												"type": "Cut",
												"parameters": {
													"StartTimeInSeconds": 1200.0,
													"EndTimeInSeconds": 3000.0,
													"UserData": { "MyData": "this is my frame data" },
													"Title": "${TitleOfCutVideo}"
												},
												"OnSuccess": {
													"task": {
														"label": "my encode",
														"type": "Encode",
														"parameters": {
															"EncodingPriority": "Low",
															"EncodingProfilesSetLabel": "Sport"
														}
													}
												}
											},
											{
												"label": "Remove of the concat content",
												"type": "Remove-Content",
												"parameters": {
												}
											}
										]
									}
								}
							}
						},
						{
							"label": "Remove of the first two source contents",
							"type": "Remove-Content",
							"parameters": {
							}
						}
					]
				}
            }
        },
        "OnComplete": {
            "task": {
                "label": "Email task",
                "type": "Email-Notification",
                "parameters": {
                    "EmailAddress": "giulianoc@catrasoftware.it",
                    "Subject": "task finished",
                    "Message": "task __INGESTIONJOBKEY__ has finished"
                }
            }
        }
    }
}
