{
    "type": "Workflow",
    "label": "My workflow",
	"Variables": [
		{ "Name": "TitleOfVideo_1", "Value": "My Title of the video_1 content" },
		{ "Name": "TitleOfVideo_2", "Value": "My Title of the video_2 content" },
		{ "Name": "TitleOfConcatVideo", "Value": "My Title of the concat video content" },
		{ "Name": "TitleOfCutVideo", "Value": "My Title of the concat video content" }
	],
    "Task": {
        "type": "GroupOfTasks",
        "Parameters": { 
			"ExecutionType": "parallel",
			"Tasks": [
				{
					"label": "${TitleOfVideo_1}",
					"type": "Add-Content",
					"Parameters": { 
						"SourceURL": "http://mediaww.rsi.ch/rsi/unrestricted/2018/04/16/2560539.mp4",
						"FileFormat": "mp4",
						"ContentType": "video",
						"UserData": { "MyData": "this is my video data" },
						"Title": "${TitleOfVideo_1}" 
					}               
				},          
				{           
					"label": "${TitleOfVideo_2}",
					"type": "Add-Content",
					"Parameters": { 
                            "SourceURL": "http://mediaww.rsi.ch/rsi/unrestricted/2018/04/16/2560539.mp4",
						"FileFormat": "mp4",
						"ContentType": "video",
						"UserData": { "MyData": "this is my video data" },
						"Title": "${TitleOfVideo_2}" 
					}               
				}
			]
		},
		"OnSuccess": {
			"Task": {
				"type": "GroupOfTasks",
				"Parameters": {
					"ExecutionType": "sequential",
					"Tasks": [
						{
							"label": "My concat",
							"type": "Concat-Demuxer",
							"Parameters": {
								"UserData": { "MyData": "this is my frame data" },
								"Title": "${TitleOfConcatVideo}"
							},
							"OnSuccess": {
								"Task": {
									"type": "GroupOfTasks",
									"Parameters": {
										"ExecutionType": "sequential",
										"Tasks": [
											{
												"label": "My cut",
												"type": "Cut",
												"Parameters": {
													"StartTimeInSeconds": 1200.0,
													"EndTimeInSeconds": 3000.0,
													"UserData": { "MyData": "this is my frame data" },
													"Title": "${TitleOfCutVideo}"
												},
												"OnSuccess": {
													"Task": {
														"label": "my encode",
														"type": "Encode",
														"Parameters": {
															"EncodingPriority": "Low",
															"EncodingProfilesSetLabel": "Sport"
														}
													}
												}
											},
											{
												"label": "Remove of the concat content",
												"type": "Remove-Content",
												"Parameters": {
												}
											}
										]
									}
								}
							}
						},
						{
							"label": "Remove of the first two source contents",
							"type": "Remove-Content",
							"Parameters": {
							}
						}
					]
				}
            }
        },
        "OnComplete": {
            "Task": {
                "label": "Email task",
                "type": "Email-Notification",
                "Parameters": {
                    "EmailAddress": "giulianoc@catrasoftware.it",
                    "Subject": "Task finished",
                    "Message": "Task __INGESTIONJOBKEY__ has finished"
                }
            }
        }
    }
}
