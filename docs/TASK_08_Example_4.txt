{
    "type": "Workflow",
    "label": "My workflow",
	"Variables": {
		"TitleOfVideo_1": { "Value": "My Title of the video content", "type": "string", "Description": "..." },
		"TitleOfVideo_2": { "Value": "My Title of the video content", "type": "string", "Description": "..." },
		"TitleOfConcatVideo": { "Value": "My Title of the frame content", "type": "string", "Description": "..." },
		"TitleOfCutVideo": { "Value": "My Title of the frame content", "type": "string", "Description": "..." }
	},
    "task": {
        "type": "GroupOfTasks",
        "parameters": { 
			"executionType": "parallel",
			"tasks": [
				{
					"label": "${TitleOfVideo_1}",
					"type": "Add-Content",
					"parameters": { 
						"sourceURL": "http://mediaww.rsi.ch/rsi/unrestricted/2018/04/16/2560539.mp4",
						"fileFormat": "mp4",
						"contentType": "video",
						"userData": { "MyData": "this is my video data" },
						"Title": "${TitleOfVideo_1}" 
					}               
				},          
				{           
					"label": "${TitleOfVideo_2}",
					"type": "Add-Content",
					"parameters": { 
                            "sourceURL": "http://mediaww.rsi.ch/rsi/unrestricted/2018/04/16/2560539.mp4",
						"fileFormat": "mp4",
						"contentType": "video",
						"userData": { "MyData": "this is my video data" },
						"Title": "${TitleOfVideo_2}" 
					}               
				}
			]
		},
		"OnSuccess": {
			"task": {
				"type": "GroupOfTasks",
				"parameters": {
					"executionType": "sequential",
					"tasks": [
						{
							"label": "My concat",
							"type": "Concat-Demuxer",
							"parameters": {
								"userData": { "MyData": "this is my frame data" },
								"Title": "${TitleOfConcatVideo}"
							},
							"OnSuccess": {
								"task": {
									"type": "GroupOfTasks",
									"parameters": {
										"executionType": "sequential",
										"tasks": [
											{
												"label": "My cut",
												"type": "Cut",
												"parameters": {
													"startTimeInSeconds": 1200.0,
													"endTimeInSeconds": 3000.0,
													"userData": { "MyData": "this is my frame data" },
													"Title": "${TitleOfCutVideo}"
												},
												"OnSuccess": {
													"task": {
														"label": "my encode",
														"type": "Encode",
														"parameters": {
															"encodingPriority": "Low",
															"EncodingProfilesSetLabel": "Sport"
														}
													}
												}
											},
											{
												"label": "Remove of the concat content",
												"type": "Remove-Content",
												"parameters": {
												}
											}
										]
									}
								}
							}
						},
						{
							"label": "Remove of the first two source contents",
							"type": "Remove-Content",
							"parameters": {
							}
						}
					]
				}
            }
        },
        "OnComplete": {
            "task": {
                "label": "Email task",
                "type": "Email-Notification",
                "parameters": {
                    "EmailAddress": "giulianoc@catrasoftware.it",
                    "Subject": "task finished",
                    "Message": "task __INGESTIONJOBKEY__ has finished"
                }
            }
        }
    }
}
